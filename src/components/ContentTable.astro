---
import type { MarkdownHeading } from "astro";

const { headings } = Astro.props;
const h:MarkdownHeading[] = headings;
const possiblePadding = ["pl-1", "pl-2", "pl-3", "pl-4", "pl-5"]
var lvlPad = new Map();
const levels = [... new Set(h.map((heading)=> heading.depth))].sort();
console.log(levels);
for (let index = 0; index < levels.length; index++) {
    const element = levels[index];
    lvlPad.set(element, possiblePadding[index]);
}
---

<div class="p-5 hidden w-1/6
            lg:flex lg:flex-col">
    Content table
    <ul class="p-5">
        {h.map((heading) => {
            return <li class:list={[lvlPad.get(heading.depth), "py-4"]}>
                <a href={`#${heading.slug}`}>
                    - {heading.text}
                </a>
                
            </li>
        })}
    </ul>
</div>